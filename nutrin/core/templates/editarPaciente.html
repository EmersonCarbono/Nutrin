{% extends 'base.html' %}
{% block title %}
    {{super()}} - Editar Paciente
{% endblock %}
{% if current_user.tipo == "N" %}
    {% extends 'areaNutricionista/areaNutricionista.html '%}
{% endif %}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename="../css/editarPaciente.css") }}"/>
{% endblock %}

{% block main %}
    <div class="container my-5">
        <div class="row">
            <div class="col-12">
                <a href="{{url_for('alterarSenhaRoute', username=response.Dados.0.username)}}">Alterar Senha</a>
            </div>
        </div>
        <h2 class="text-center">Editar Paciente</h2>
        <form action="" method="POST" class="my-5">
            {{ form.csrf_token }}
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="name">Nome:</label>
                    {{ form.name(class="form-control", placeholder="Nome do paciente", id="name", value=response.Dados.0.name )}}
                    {% if form.errors.name %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                                {% for e in form.errors.name %}
                                    <li>{{ e }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="username">Username:</label>
                    {{ form.username(class="form-control", id="username", placeholder="Username do paciente", value=response.Dados.0.username) }}
                    {% if form.errors.username %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.username %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="email">Email:</label>
                    {{ form.email(class="form-control", placeholder="Email do paciente", id="email", value=response.Dados.0.email) }}
                    {% if form.errors.email %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.email %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="dataNascimento">Data de nascimento:</label>
                    {{ form.dataNascimento(class="form-control", id="dataNascimento", type="date", value=response.Dados.0.dataNascimento) }}
                    {% if form.errors.dataNascimento %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.dataNascimento %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="cidade">Cidade:</label>
                    {{ form.cidade(class="form-control", id="cidade", placeholder="Cidade do paciente",value=response.Dados.0.cidade ) }}
                    {% if form.errors.cidade %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.cidade %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="profissao">Profissão:</label>
                    {{ form.profissao(class="form-control", id="profissao", placeholder="Profissão do paciente", value=response.Dados.0.profissao) }}
                    {% if form.errors.profissao %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.profissao %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="celular">Celular:</label>
                    {{ form.celular(class="form-control", id="celular", placeholder="Celular do paciente", value=response.Dados.0.celular) }}
                    {% if form.errors.celular %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.celular %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
                <div class="form-group col-md-6">
                    <label for="objetivo">Objetivo:</label>
                    {{ form.objetivo(class="form-control", id="objetivo", placeholder="Objetivo do paciente", value=response.Dados.0.objetivo) }}
                    {% if form.errors.objetivo %}
                        <div class="alert alert-danger" role="alert">
                            <ul>
                            {% for e in form.errors.objetivo %}
                                <li>{{ e }}</li>
                            {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
            </div>
            <div class="form-row">
                <label for="sexo">Sexo:</label>
                {{ form.sexo(id="sexo") }}
                {% if form.errors.sexo %}
                    <div class="alert alert-danger" role="alert">
                        <ul>
                        {% for e in form.errors.sexo %}                              
                            <li>{{ e }}</li>
                        {% endfor %}
                        </ul>
                    </div>
                {% endif %}
            </div>
        <button class="btn btn-primary" type="submit">Salvar</button>
        </form>
    </div>
{% endblock %}

{% block content %}
{% endblock %}

{% block js %}
<script src="../static/js/jquery-mask/jquery.mask.min.js"></script>
<script src="../static/js/cadastroPaciente.js"></script>
{% endblock %}